<app-sidebar></app-sidebar>
<app-topbar></app-topbar>
<div class="container">
    <div class="myCard">
        <div class="row">
            <div class="col-md">
                <div class="myLeftCtn"> 
                    <form [formGroup]="changepasswordForm" class="myForm text-center">
                        <header class="">Change Password</header>
                        <div class="form-group py-1 px-3">
                            <i class="fas fa-lock"></i>
                           <input [class.is-invalid]="(formSubmitted && changepasswordForm.controls['currentpassword'].invalid )||changepasswordForm.controls['currentpassword'].invalid && changepasswordForm.controls['currentpassword'].touched" required class="myInput" type="password" id="OldPassword" placeholder="Current Password" name="OldPassword" [(ngModel)]="user.OldPassword" formControlName="currentpassword" required> 
                        </div>

                        <div *ngIf="(formSubmitted)||changepasswordForm.controls['currentpassword'].invalid && changepasswordForm.controls['currentpassword'].touched">
                            <span class="text-danger" *ngIf="changepasswordForm.controls['currentpassword'].errors?.['required']">Current Password is required</span>
                            <span class="text-danger" *ngIf="changepasswordForm.controls['currentpassword'].errors?.['pattern']">Enter a valid Password.</span>
                          </div>

                        <div class="form-group">
                            <i class="fas fa-lock"></i>
                 <input [class.is-invalid]="(formSubmitted && changepasswordForm.controls['newpassword'].invalid )||changepasswordForm.controls['newpassword'].invalid && changepasswordForm.controls['newpassword'].touched" class="myInput" type="password" id="NewPassword" placeholder="New Password" name="NewPassword" [(ngModel)]="user.NewPassword" formControlName="newpassword" required> 
                        </div> 
                        <div *ngIf="(formSubmitted)||changepasswordForm.controls['newpassword'].invalid && changepasswordForm.controls['newpassword'].touched">
                            <span class="text-danger" *ngIf="changepasswordForm.controls['newpassword'].errors?.['required']">New Password is required</span>
                            <span class="text-danger" *ngIf="changepasswordForm.controls['newpassword'].errors?.['pattern']">Password should contain minimum 8 digits with one uppercase and one symbol and one number</span>
                          </div>
                        <div class="form-group py-1 px-3">
                            <i class="fas fa-lock"></i>
                            <input [class.is-invalid]="(formSubmitted && changepasswordForm.controls['confirmnewpassword'].invalid)||changepasswordForm.controls['confirmnewpassword'].invalid && changepasswordForm.controls['confirmnewpassword'].touched" class="myInput" type="password" id="ConfirmPassword" placeholder="Confirm New Password" name="ConfirmPassword" [(ngModel)]="user.ConfirmPassword" formControlName="confirmnewpassword" required> 
                        </div>
                        <div *ngIf="(formSubmitted ) || changepasswordForm.controls['confirmnewpassword'].invalid && changepasswordForm.controls['confirmnewpassword'].touched">
                            <span class="text-danger" *ngIf="changepasswordForm.controls['confirmnewpassword'].errors?.['required']">Please re-enter your New password</span>
                            <span class="text-danger" *ngIf="changepasswordForm.controls['confirmnewpassword'].errors?.['passwordNotMatched']">Your password not matched with NewPassword</span>
                      
                        <!-- <div class="form-group">
                            <label>
                                <input id="check_1" name="check_1"  type="checkbox" required><small> I read and agree to Terms & Conditions</small></input> 
                                <div class="invalid-feedback">You must check the box.</div>
                            </label>
                        </div> -->
                    </div>

                        <a (click)="logout()" (click)="onSubmit()" [routerLink]="['']"><input type="button"  class="butt ml-3 mb-2" value="CHANGE PASSWORD" [disabled]="!changepasswordForm.valid"></a>
                            

                        
                        </form>
                
                </div>
            </div> 

           
            
        </div>
    </div>

 </div>